<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../../partials/head'); %>
</head>

<body class="container">
    <header>
        <%- include('../../partials/header'); %>
    </header>
    <main>
        <h3>Update User</h3>
        <% if( msg.length!=0) { %>
            <div class="alert alert-danger " role="alert">
                <%= msg %>
            </div>
            <% } %>
                <%- include('../../partials/loader'); %>
                    <input class="d-none" type="text" id="_id" name="_id" value=<%=data._id %> >
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" readonly class="form-control" name="name" placeholder="Enter Name"
                            value=<%=data.username %>>
                    </div>
                    <div class="form-group">
                        <label for="description">Description</label>
                        <input type="text" id="description" class="form-control" name="description"
                            placeholder="Enter Description" value=<%=data.description %>>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" class="form-control" name="password"
                            placeholder="Enter Password" value=<%=data.password %>>
                    </div>
                    <div class="form-group p-2">
                        <label class="pb-2" for="isActive">isActive</label>
                        <input type="checkbox" id="isActive" <% if (typeof data.isActive!='undefined' &&
                            data.isActive==true ) { %>
                        checked
                        <% } %> name="isActive">
                    </div>
                    <div class="form-group p-2">
                        <h4>Roles</h4>
                        <table class="table table-bordered">
                            <tr>
                                <th>Name</th>
                                <th>Allow</th>
                            </tr>
                            <tr>
                                <td>Admin
                                </td>
                                <td>
                                    <input type="checkbox" <% if (typeof data.roles!='undefined' &&
                                        data.roles.includes('admin')) { %>
                                    checked
                                    <% } %> id="chkAdmin" name="Admin" value="allow">
                                </td>
                            </tr>
                            <tr>
                                <td>Basic</td>
                                <td>
                                    <input type="checkbox" <% if (typeof data.roles!='undefined' &&
                                        data.roles.includes('basic')) { %>
                                    checked
                                    <% } %> id="chkBasic" name="Basic" value="allow">
                                </td>
                            </tr>
                        </table>
                    </div>
                    <button type="button" onclick="insertUser('/users/update')" class="btn btn-primary">Submit</button>
                    <a type="cancel" class="btn btn-primary" href="/users">Cancel</a>
    </main>
    <footer>
        <%- include('../../partials/footer'); %>
    </footer>
    <script src="/scripts/common/checkbox.js"></script>
    <script src="/scripts/users/insert.js"></script>
    <script src="/scripts/users/common.js"></script>
</body>

</html>